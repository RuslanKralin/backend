# Docker Cheat Sheet

## Контейнеры

### Запуск и остановка
- `docker run [опции] образ [команда]` - запуск контейнера из образа
- `docker start [контейнер]` - запуск остановленного контейнера
- `docker stop [контейнер]` - остановка работающего контейнера
- `docker restart [контейнер]` - перезапуск контейнера
- `docker pause [контейнер]` - приостановка работы контейнера
- `docker unpause [контейнер]` - возобновление работы контейнера
- `docker kill [контейнер]` - принудительная остановка контейнера
- `docker rm [контейнер]` - удаление остановленного контейнера
- `docker rm -f [контейнер]` - принудительное удаление работающего контейнера

### Просмотр информации
- `docker ps` - список запущенных контейнеров
- `docker ps -a` - список всех контейнеров (включая остановленные)
- `docker ps -q` - только ID запущенных контейнеров
- `docker ps -a -q` - только ID всех контейнеров
- `docker ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}\t{{.Names}}"` - красивый формат вывода
- `docker logs [контейнер]` - просмотр логов контейнера
- `docker logs -f [контейнер]` - просмотр логов в реальном времени
- `docker inspect [контейнер]` - подробная информация о контейнере
- `docker stats` - мониторинг ресурсов контейнеров
- `docker top [контейнер]` - процессы внутри контейнера

## Образы

- `docker images` - список локальных образов
- `docker pull [образ]` - загрузка образа из репозитория
- `docker rmi [образ]` - удаление образа
- `docker build -t [имя] [путь]` - сборка образа из Dockerfile
- `docker history [образ]` - история изменений образа
- `docker save [образ] > file.tar` - сохранение образа в файл
- `docker load < file.tar` - загрузка образа из файла

## Сети

- `docker network ls` - список сетей
- `docker network create [сеть]` - создание сети
- `docker network rm [сеть]` - удаление сети
- `docker network inspect [сеть]` - информация о сети

## Тома

- `docker volume ls` - список томов
- `docker volume create [том]` - создание тома
- `docker volume rm [том]` - удаление тома
- `docker volume inspect [том]` - информация о томе

## Docker Compose

- `docker-compose up` - запуск сервисов
- `docker-compose up -d` - запуск в фоновом режиме
- `docker-compose down` - остановка и удаление контейнеров
- `docker-compose ps` - статус сервисов
- `docker-compose logs` - логи сервисов
- `docker-compose build` - пересборка сервисов

## Полезные команды

- `docker system df` - информация об использовании диска
- `docker system prune` - удаление неиспользуемых объектов
- `docker exec -it [контейнер] [команда]` - выполнение команды в контейнере
- `docker cp [контейнер]:[путь] [локальный_путь]` - копирование файлов из контейнера
- `docker cp [локальный_путь] [контейнер]:[путь]` - копирование файлов в контейнер

## Форматирование вывода

Примеры форматирования вывода `docker ps`:
```bash
# Основные поля
- {{.ID}} - ID контейнера
- {{.Image}} - имя образа
- {{.Command}} - команда
- {{.CreatedAt}} - время создания
- {{.RunningFor}} - время работы
- {{.Ports}} - порты
- {{.Status}} - статус
- {{.Size}} - размер
- {{.Names}} - имена
- {{.Labels}} - метки
- {{.Mounts}} - точки монтирования

# Примеры форматов
docker ps --format "table {{.ID}}\t{{.Image}}\t{{.Status}}\t{{.Ports}}\t{{.Names}}"
docker ps --format "{{.Names}}: {{.Status}}"
```
